/* Basic reset */
* { box-sizing: border-box; }
html, body { height: 100%; }
body {
  margin: 0;
  font-family: -apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,Oxygen,Ubuntu,Cantarell,'Helvetica Neue',Arial,sans-serif;
  color: #212529;
  background: linear-gradient(115deg, #eef2ff, #e9ecff 35%, #f1f2fa 60%, #eef2ff 100%);
}

/* Layout */
.sidebar {
  position: fixed; inset: 0 auto 0 0;
  width: 68px; background: #283036; color: white;
  display: flex; flex-direction: column; padding: .5rem .25rem; gap: .25rem;
  border-right: 1px solid #1f2529;
}
.sidebar__spacer { flex: 1; }
.sidebar__btn {
  display: flex; flex-direction: column; align-items: center; gap: .35rem;
  width: 100%; padding: .6rem 0; background: transparent; border: 0; color: #cfd6dc;
  font-size: .75rem; cursor: pointer; border-radius: .75rem;
}
.sidebar__btn:hover, .sidebar__btn[aria-current="true"] { background: #36404a; color: #fff; }
.sidebar__btn .icon { font-size: 1.25rem; }

.app { margin-left: 68px; min-height: 100%; }

/* Top bar mimicking Banner */
.topbar {
  display: flex; justify-content: space-between; align-items: center;
  background: #3a47b8; color: white; padding: .35rem .75rem; border-bottom: 2px solid #2b3596;
  position: sticky; top: 0; z-index: 50;
}
.topbar.hidden { display: none; }
.topbar__title { font-weight: 600; }
.topbar__right { display: flex; gap: .25rem; align-items: center; }
.menu { position: relative; }
.menu__list {
  position: absolute; right: 0; top: 100%;
  list-style: none; margin: .25rem 0 0 0; padding: .25rem; background: white; color: #111;
  border: 1px solid #d8dbe2; border-radius: .5rem; min-width: 140px; display: none;
}
.menu:focus-within .menu__list { display: block; }
.menu__item { display: block; width: 100%; background: transparent; border: 0; padding: .5rem .75rem; text-align: left; }
.menu__item:hover { background: #f2f4f8; }

/* Welcome screen */
.welcome { display: grid; place-items: start center; padding: 4rem 1rem; }
.welcome__title { font-size: 2.25rem; margin: 0 0 1rem; }
.card {
  background: white; border: 1px solid #d8dbe2; border-radius: .75rem; padding: 1rem; width: min(900px, 92vw);
  box-shadow: 0 4px 12px rgba(0,0,0,.04);
}
.tabs { display: inline-flex; background: #f5f7fb; border-radius: .5rem; padding: .25rem; gap: .25rem; }
.tab { background: transparent; border: 0; padding: .5rem 1rem; border-radius: .35rem; cursor: pointer; font-weight: 600; }
.tab--active { background: white; box-shadow: 0 1px 0 0 #e2e6ef inset; }
.panel { margin-top: 1rem; display: none; }
.panel--active { display: block; }
.inline { display: flex; gap: .5rem; align-items: center; }
.label { font-weight: 600; }
.hint { color: #5f6b7a; }

.input {
  border: 1px solid #cbd3df; border-radius: .5rem; padding: .5rem .75rem; font-size: 1rem; width: 100%;
}
.input--lg { padding: .75rem 1rem; font-size: 1.125rem; }
.input--id { font-variant-numeric: tabular-nums; width: 280px; }

.select { border: 1px solid #cbd3df; border-radius: .5rem; padding: .5rem .75rem; background: white; }

.btn {
  --bg:#f5f7fb; --fg:#23304a; --bd:#cfd6e2;
  border:1px solid var(--bd); background:var(--bg); color:var(--fg); padding:.5rem .85rem; border-radius:.5rem; cursor:pointer;
}
.btn--primary { --bg:#2563eb; --fg:#fff; --bd:#1d4ed8; }
.btn--secondary { --bg:#eef2ff; --fg:#273260; --bd:#c7cdf6; }
.btn--ghost { --bg:transparent; --fg:#fff; --bd:#6b76df; border-color:transparent; }
.btn:focus { outline: 3px solid #a3b5ff; outline-offset: 2px; }

/* Key block */
.keyblock {
  display: flex; align-items: center; gap: .75rem; background: #eef2ff; border-bottom: 1px solid #d7dcff;
  padding: .75rem 1rem;
}
.muted { color:#5f6b7a; padding: .75rem 1rem; }

/* Form */
.form { padding: 1rem; }
.form__section { border:1px solid #e1e5ee; border-radius:.5rem; margin: 1rem 0; }
.form__sectionTitle { background:#f5f7fb; border-bottom:1px solid #e1e5ee; padding:.5rem .75rem; font-weight:700; }
.grid {
  display: grid; gap: .75rem; padding: .75rem; grid-template-columns: repeat(4, minmax(0,1fr));
}
.col-span-2 { grid-column: span 2; }
.form__label { display:flex; flex-direction:column; gap:.25rem; font-size:.95rem; }
.checkbox { flex-direction:row; align-items:center; gap:.5rem; }
.actions { display:flex; gap:.5rem; justify-content:flex-end; padding:.5rem; }

/* Search listbox */
.listbox { list-style:none; margin:.5rem 0 0; padding:0; border:1px solid #d8dbe2; border-radius:.5rem; max-height:260px; overflow:auto; display:none; }
.listbox[aria-expanded="true"], .listbox.show { display:block; }
.listbox li { padding:.5rem .75rem; border-bottom:1px solid #eef1f6; }
.listbox li:last-child { border-bottom:0; }
.listbox li[aria-selected="true"], .listbox li:hover { background:#eef2ff; }

/* Toast */
.toast {
  position: fixed; bottom: 1rem; right: 1rem; background: #111827; color: white;
  padding: .6rem .9rem; border-radius: .5rem; opacity: 0; transform: translateY(8px);
  transition: all .2s ease;
}
.toast.show { opacity: 1; transform: translateY(0); }

/* Utilities */
.hidden { display: none; }
.sr-only{ position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border:0; }

@media (max-width: 920px) {
  .grid { grid-template-columns: repeat(2, minmax(0,1fr)); }
}
