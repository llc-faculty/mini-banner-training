
:root{
  --banner-blue:#3b5eb3;
  --bg:#f5f7fb;
  --panel:#ffffff;
  --border:#dfe3ea;
  --text:#1c2430;
  --muted:#5a6b82;
  --focus:#0f6efd;
}
*{box-sizing:border-box}
html,body{height:100%%}
body{margin:0;font-family:"Helvetica Neue",Arial,system-ui,-apple-system,BlinkMacSystemFont,"Segoe UI",sans-serif;background:var(--bg);color:var(--text)}
a{color:inherit}
.appbar{display:flex;align-items:center;gap:.75rem;background:var(--banner-blue);color:#fff;padding:.5rem 1rem;box-shadow:0 1px 0 rgba(0,0,0,.1)}
.appbar .brand{font-weight:600;letter-spacing:.02em}
.appbar .spacer{flex:1}
.appbar .badge{font-size:.75rem;opacity:.9}

.container{max-width:1200px;margin:1rem auto;padding:0 1rem}
.card{background:var(--panel);border:1px solid var(--border);border-radius:10px;box-shadow:0 1px 1px rgba(0,0,0,.02);padding:1rem}

.tabbar{display:flex;border:1px solid var(--border);border-radius:8px;overflow:hidden;width:max-content;margin-bottom:.75rem}
.tabbar button{background:#fff;border:0;padding:.5rem .9rem;cursor:pointer;font-weight:600;color:var(--muted)}
.tabbar button.active{background:#eef2fb;color:var(--text);border-right:1px solid var(--border)}
.tabbar button+button{border-left:1px solid var(--border)}

.searchbar{display:flex;gap:.5rem;align-items:center}
.searchbar input{flex:1;border:1px solid var(--border);border-radius:8px;padding:.65rem .9rem;font-size:1rem}
.searchbar .go{border:1px solid var(--border);background:#fff;border-radius:8px;padding:.6rem .9rem;font-weight:600;cursor:pointer}
.autocomplete{margin-top:.5rem;border:1px solid var(--border);background:#fff;border-radius:8px;overflow:hidden;max-width:720px}
.autocomplete li{list-style:none;padding:.6rem .75rem;border-top:1px solid var(--border);cursor:pointer}
.autocomplete li:first-child{border-top:0}
.autocomplete li:hover,.autocomplete li:focus{background:#f3f6ff;outline:none}

.keyblock{display:flex;gap:.75rem;align-items:flex-end}
.keyblock input{border:1px solid var(--border);border-radius:8px;padding:.6rem .9rem;font-size:1rem;min-width:260px}
.keyblock .btn{background:#fff;border:1px solid var(--border);border-radius:8px;padding:.6rem .9rem;cursor:pointer;font-weight:600}

.toolbar{display:flex;align-items:center;justify-content:space-between;background:var(--banner-blue);color:#fff;padding:.5rem .75rem;border-radius:10px 10px 0 0}
.toolbar .title{font-weight:700}
.form{border:1px solid var(--border);border-top:0;border-radius:0 0 10px 10px;background:#fff;padding:1rem}
.section{border:1px solid var(--border);border-radius:8px;margin-bottom:1rem}
.section h3{margin:0;padding:.6rem .75rem;background:#f7f9fd;border-bottom:1px solid var(--border);font-size:1rem}
.section .grid{display:grid;grid-template-columns:repeat(2,minmax(0,1fr));gap:.75rem;padding:.75rem}
label{display:flex;flex-direction:column;font-size:.85rem;color:var(--muted);gap:.25rem}
input[type="text"],input[type="date"],select{border:1px solid var(--border);padding:.5rem;border-radius:6px;font-size:1rem}
.table{width:100%%;border-collapse:collapse}
.table th,.table td{border-top:1px solid var(--border);padding:.5rem .5rem;text-align:left;font-size:.95rem}
.table th{background:#f7f9fd;color:var(--muted);font-weight:600}
.toast{position:fixed;bottom:1rem;right:1rem;background:#1a7f37;color:#fff;padding:.6rem .9rem;border-radius:8px;box-shadow:0 6px 18px rgba(0,0,0,.15);opacity:0;transform:translateY(6px);transition:all .25s}
.toast.show{opacity:1;transform:translateY(0)}

.error{margin-top:.5rem;color:#b42318;font-weight:600}
.hidden{display:none !important}
.small{font-size:.875rem;color:var(--muted)}
footer{margin:2rem 0 1rem;color:#6b7280;text-align:center}

/* --- compact left sidebar --- */
.layout { display:flex; min-height:100vh; }
.sidebar--compact{
  width:56px; background:#3b3f44; color:#fff; display:flex; flex-direction:column;
  align-items:center; padding-top:6px; flex:0 0 56px;
}
.nav-group{ display:flex; flex-direction:column; gap:2px; width:100%; }
.nav-footer{ margin-top:auto; margin-bottom:8px; }
.nav-icon{
  position:relative; width:56px; height:44px; display:flex; align-items:center; justify-content:center;
  background:transparent; border:0; color:#fff; opacity:.95; cursor:pointer;
}
.nav-icon:hover{ background:#2f3337; }
.nav-icon[disabled]{ opacity:.45; cursor:not-allowed; }
.nav-icon[aria-current="page"]::before{
  content:""; position:absolute; left:0; top:0; bottom:0; width:3px; background:#39a0ff; border-radius:0 2px 2px 0;
}
.nav-icon svg{ pointer-events:none; }
.nav-icon .badge{
  position:absolute; right:6px; top:6px; font-size:10px; line-height:1;
  background:#5a6872; border-radius:999px; padding:2px 5px;
}
.main-area{ flex:1; min-width:0; }

/* ===== Compact sidebar polish ===== */
:root{
  --appbar-h: 56px;
  --sidebar-w: 56px;
  --bg: #f6f8fb;
  --card: #ffffff;
  --ink: #1f2937;
  --muted: #6b7280;
  --line: #e5e7eb;
  --accent: #0b5cab;          /* Ellucian-ish blue */
  --accent-ink: #ffffff;
}

body{ background: var(--bg); color: var(--ink); }

.appbar{
  position: sticky; top: 0; z-index: 50;
  height: var(--appbar-h);
  display: flex; align-items: center; gap: .75rem;
  padding: 0 12px;
  background: var(--card);
  border-bottom: 1px solid var(--line);
}

.layout{ display: flex; min-height: calc(100vh - var(--appbar-h)); }

.sidebar--compact{
  position: sticky; top: var(--appbar-h);
  flex: 0 0 var(--sidebar-w);
  display: flex;
  background: #0e2237;
  border-right: 1px solid #0b1a2a;
}

.sidebar--compact .nav-group{
  display: flex; flex-direction: column; align-items: center;
  gap: 8px; padding: 10px 0;
  width: 100%;
}

.nav-icon{
  appearance: none; border: 0; background: transparent;
  width: 42px; height: 42px; border-radius: 12px;
  display: grid; place-items: center; color: #e6eef6;
  cursor: pointer; position: relative;
  transition: background .15s ease, transform .05s ease;
}
.nav-icon:hover{ background: rgba(255,255,255,.08); }
.nav-icon:active{ transform: translateY(1px); }
.nav-icon[disabled]{ opacity: .45; cursor: not-allowed; }
.nav-icon[aria-current="page"]{ background: var(--accent); color: var(--accent-ink); }

.nav-icon svg{ fill: currentColor; }

.nav-icon .badge{
  position: absolute; top: -3px; right: -3px;
  background: #ef4444; color: #fff; font-size: 10px; line-height: 1;
  padding: 2px 5px; border-radius: 999px; min-width: 18px; text-align: center;
  border: 2px solid #0e2237;
}

.nav-footer{ margin-top: auto; }

/* ===== Main area & cards ===== */
.main-area{ flex: 1; min-width: 0; }
.container{ max-width: 1100px; margin: 0 auto; padding: 16px; }

.card{
  background: var(--card);
  border: 1px solid var(--line);
  border-radius: 12px;
  padding: 16px;
  box-shadow: 0 1px 2px rgba(0,0,0,.04);
  margin-bottom: 16px;
}

/* ===== Toolbar (form headers) ===== */
.toolbar{
  position: sticky; top: calc(var(--appbar-h));
  z-index: 5;
  display: flex; align-items: center; justify-content: space-between; gap: 12px;
  padding: 10px 12px;
  background: var(--card); border-bottom: 1px solid var(--line);
  border-top-left-radius: 10px; border-top-right-radius: 10px;
  margin: -16px -16px 12px; /* align with card edges */
}
.toolbar .title{ font-weight: 600; }

/* ===== Buttons & small UI bits ===== */
.btn, .go{
  appearance: none; border: 1px solid var(--line); background: #f9fafb; color: var(--ink);
  padding: 8px 12px; border-radius: 8px; cursor: pointer; font: inherit;
  transition: background .15s ease, border-color .15s ease, box-shadow .15s ease;
}
.btn:hover, .go:hover{ background: #f3f4f6; }
.btn:active, .go:active{ transform: translateY(1px); }
.btn.btn-mini{ padding: 4px 8px; font-size: 12px; }

.badge{ background: #e5e7eb; color: #111827; padding: 2px 8px; border-radius: 999px; font-size: 12px; }

/* ===== Key block & inputs ===== */
.keyblock{
  display: flex; align-items: flex-end; gap: .75rem; flex-wrap: wrap;
}
.keyblock label{ display: flex; flex-direction: column; gap: 6px; font-weight: 600; }
.keyblock input{
  min-width: 220px;
  padding: 8px 10px; border: 1px solid var(--line); border-radius: 8px; font: inherit;
  background: #fff;
}
.kb-extra label input{ min-width: 140px; }

.error{
  margin-top: .75rem; padding: 10px 12px; border-radius: 8px;
  background: #fef2f2; border: 1px solid #fecaca; color: #991b1b;
}

/* ===== Search bar & autocomplete ===== */
.searchbar{ display: flex; gap: .5rem; align-items: center; }
.searchbar input{
  flex: 1; min-width: 260px;
  padding: 10px 12px; border: 1px solid var(--line); border-radius: 10px; font: inherit; background: #fff;
}
.autocomplete{
  margin-top: .5rem; border: 1px solid var(--line); border-radius: 10px; overflow: hidden;
  background: #fff; max-width: 560px;
}
.autocomplete li{
  list-style: none; padding: 10px 12px; cursor: pointer; border-top: 1px solid var(--line);
}
.autocomplete li:first-child{ border-top: 0; }
.autocomplete li:hover{ background: #f3f4f6; }

/* ===== Tables (global) ===== */
.table{ width: 100%; border-collapse: collapse; }
.table th, .table td{
  padding: 10px 12px; text-align: left; border-bottom: 1px solid var(--line);
}
.table thead th{ font-weight: 700; color: var(--muted); background: #f9fafb; position: sticky; top: calc(var(--appbar-h) + 44px); }
.table tbody tr:nth-child(even){ background: #fbfdff; }
.table tbody tr:hover{ background: #eef6ff; }

/* Make roster rows feel clickable */
#roster-table tbody tr{ cursor: pointer; }

/* ===== Utilities ===== */
.hidden{ display: none !important; }
.small{ color: var(--muted); font-size: .9rem; }

/* ===== Form sections grid tidy ===== */
.form .section{ margin: 14px 0; }
.form .grid{
  display: grid; gap: .75rem;
  grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
}
.form .grid label{ display: flex; flex-direction: column; gap: 6px; }
.form input, .form select{
  padding: 8px 10px; border: 1px solid var(--line); border-radius: 8px; font: inherit; background: #fff;
}

/* ===== Toast ===== */
.toast{
  position: fixed; right: 16px; bottom: 16px; z-index: 60;
  background: #0ea5e9; color: white; padding: 10px 14px; border-radius: 10px;
  box-shadow: 0 10px 20px rgba(0,0,0,.12); opacity: 0; transform: translateY(8px);
  transition: opacity .2s ease, transform .2s ease;
}
.toast.show{ opacity: 1; transform: translateY(0); }

/* ==== Sidebar contrast fix (place at END of styles.css) ==== */
.sidebar--compact{ background:#0b1726; } /* slightly deeper navy for contrast */

.sidebar--compact .nav-icon{
  color:#ffffff !important;                  /* FORCE white icons/text */
}
.sidebar--compact .nav-icon svg,
.sidebar--compact .nav-icon path{
  fill: currentColor !important;             /* ensure the SVG uses the white color */
}

.sidebar--compact .nav-icon:hover{ background:rgba(255,255,255,.12); }
.sidebar--compact .nav-icon[aria-current="page"]{
  background: var(--accent);
  color:#ffffff !important;
}
.sidebar--compact .nav-icon[aria-current="page"] svg,
.sidebar--compact .nav-icon[aria-current="page"] path{
  fill:#ffffff !important;
}

/* keep the little red counter readable on dark bg */
.sidebar--compact .nav-icon .badge{ border-color:#0b1726; }

/* optional: clearer keyboard focus */
.sidebar--compact .nav-icon:focus-visible{
  outline:2px solid #fff; outline-offset:2px;
}

.icon-btn {
  margin-left: .5rem;
  padding: 0 .5rem;
  border: 1px solid var(--border, #e3e8ef);
  background: var(--surface, #fff);
  border-radius: 6px;
  font-weight: 700;
  line-height: 1.6;
  cursor: pointer;
}

.menu {
  position: absolute;
  margin-top: .25rem;
  padding: .25rem;
  background: #fff;
  border: 1px solid #e3e8ef;
  border-radius: 8px;
  box-shadow: 0 8px 24px rgba(0,0,0,.08);
  display: grid;
  gap: .25rem;
  z-index: 20;
}
.menu.hidden { display: none; }
.menu [role="menuitem"] {
  text-align: left;
  background: transparent;
  border: 0;
  padding: .35rem .5rem;
  border-radius: 6px;
  cursor: pointer;
}
.menu [role="menuitem"]:hover { background: #f1f5f9; }




/* --- Key Block dropdown positioning fix --- */
.keyblock{ position: relative; }
.keyblock .icon-btn{ align-self: center; }
.keyblock .menu{ right: 0; } /* fallback placement */
